@model GovFinance.Models.ExpenseCategory
@{
    ViewData["Title"] = "إضافة مصروف ثابت";
    var returnUrl = ViewBag.ReturnUrl as string;

}

<h1 class="h4 mb-3">@ViewData["Title"]</h1>

<div class="row">
    <div class="col-md-6">
        <form asp-action="Create" method="post">
            @Html.AntiForgeryToken()

            <!-- مهم: نفس اسم الباراميتر في الأكشن -->
            <input type="hidden" name="returnUrl" value="@returnUrl" />

            <!-- لعرض أي أخطاء عامة -->
            <div asp-validation-summary="All" class="text-danger"></div>

            <div class="mb-3">
                <label asp-for="Name" class="form-label">الاسم</label>
                <input asp-for="Name" class="form-control" maxlength="100" placeholder="مثال: إيجار " />
                <span asp-validation-for="Name" class="text-danger"></span>
            </div>

            <div class="mb-3">
                <label asp-for="DefaultAmount" class="form-label">المبلغ الافتراضي</label>

                <!-- أزرار سريعة للمبلغ الافتراضي -->
                <div class="btn-group flex-wrap gap-1 mb-2"
                     data-amount-pad
                     data-target="#DefaultAmount"
                     data-min="0">
                    <button type="button" class="btn btn-outline-success btn-sm" data-inc="50">+50</button>
                    <button type="button" class="btn btn-outline-success btn-sm" data-inc="100">+100</button>
                    <button type="button" class="btn btn-outline-success btn-sm" data-inc="250">+250</button>
                    <button type="button" class="btn btn-outline-success btn-sm" data-inc="500">+500</button>
                    <button type="button" class="btn btn-outline-success btn-sm" data-inc="1000">+1000</button>
                    <button type="button" class="btn btn-outline-secondary btn-sm" data-set="0">تصفير</button>
                </div>

                <input asp-for="DefaultAmount" class="form-control latin-digits"
                       id="DefaultAmount"
                       type="number" step="any" min="0" inputmode="decimal" lang="en" />
                <span asp-validation-for="DefaultAmount" class="text-danger"></span>
            </div>
           
            <button class="btn btn-primary" type="submit">إضافة</button>

            @if (!string.IsNullOrWhiteSpace(returnUrl))
            {
                <a class="btn btn-outline-secondary" href="@returnUrl">رجوع</a>
            }
            else
            {
                <a class="btn btn-outline-secondary" asp-action="Index">رجوع</a>
            }
        </form>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
